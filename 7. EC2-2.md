# EBS

EC2인스턴스에 사용할 영구 블록 스토리지 볼륨을 제공.

- 가상 하드드라이브라고 생각할 수 있음.
- EC2 인스턴스가 종료되어도 계속 유지 가능

하나의 인스턴스가 여러개의 EBS를 붙이고 땔 수 있음. (유동적)

- 인스턴스 정지 후 재 기동 가능
- 하나의 EBS를 여러 EC2에 장착 가능(EBS MUlti Attach)
- 루트 볼륨으로 사용시 EC2가 종료되면 같이 삭제됨.
  - 단 설정을 통해 EBS만 따로 존속 가능
- EC2와 같은 가용 영역에 존재

총 5가지 타입을 제공

(EBS종류)

---

## Snapshot

- 특정 시간에 EBS 상태의 저장본
  - EBS에 사진을 찍어둔 개념
- 필요시 스냅샷을 통해 특정 시간의 EBS를 복구 가능
- S3에 보관
  - 증분식 저장
    - 데이터를 추가/삭제한 상태를 저장하는게 아니라 변화만을 저장함.
    - A파일을 저장한 상태의 EBS를 저장하는게 아니라 A파일을 저장하는 행동을 저장하는 것.
    - EBS자체를 저장하면 당연히 심하게 비효율적임.

---

## AMI

- EC2인스턴스를 실행하기 위해 필요한 정보를 모은 단위
  - OS,아키텍쳐 타입, 저장공간 용량 등
- AMI를 사용하여 EC2를 복제하거나 다른 리전 -> 계정으로 전달 가능
- 스냅샷을 기반으로 AMI 구성 가능.

EC2 컨테이너 느낌??

### 구성

- 1개 이상의 EBS스냅샷
- 인스턴스 저장 인스턴스의 경우 루트 볼륨에 대한 템플릿(예: 운영체제, 애플리케이션 서버, 애플리케이션)
- 사용 권한(어떤 AWS 어카운트가 사용할 수 있는지)
- 블록 디바이스 맵핑(EC2 인스턴스를 위한 볼륨 정보 = EBS가 무슨 용량으로 몇 개 붙는지)

### 총 두가지 타입

- EBS기반 or 인스턴스 저장 기반

### 타입에 따른 AMI의 생성 방법

- EBS: 스냅샷을 기반으로 루트 디바이스 생성
- 인스턴스 저장: S3에 저장된 템플릿을 기반으로 설정
